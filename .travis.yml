language: python

python:
  - "2.7"

env:
  - DISPLAY=:99.0

before_install:
  - echo "EPD_auth = 'dGVzdC5mcmVlQGZha2UuZG9tYWluOnRlc3Q9MTIzNA=='" > ${HOME}/.enstaller4rc
  - pip install enstaller
  - sh -e /etc/init.d/xvfb start

install:
  - pip install -r requirements_test.txt
  - sudo apt-get install firefox
  - enpkg traits pyside tornado
  - python setup.py develop

script:
  - coverage run -m unittest discover

after_script:
  - coverage report

notifications:
  email: false
